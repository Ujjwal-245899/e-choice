<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Registration</title>
  <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f8f9fa;
        margin: 0;
        padding: 0;
      }
      
      /* Navbar styling */
      nav {
        background-color: #007bff;
        color: #fff;
        padding: 10px 20px;
      }
      
      nav ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
      }
      
      nav ul li {
        display: inline;
        margin-right: 20px;
      }
      
      nav ul li a {
        text-decoration: none;
        color: #fff;
        font-weight: bold;
      }
      
      /* Container styling */
      .container {
        max-width: 600px;
        margin: 20px auto;
        padding: 20px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		display: flex;
		  flex-direction: column;
		  justify-content: center; /* Center content vertically */
		  align-items: center; /* Center content horizontally */
		  height: 100vh; /* Set container height to full viewport height */
      }
      
      h2 {
        text-align: center;
      }
      
      /* Form styling */
      .form-group {
        margin-bottom: 20px;
      }
	  --Changes--

	  form {
	      display: flex;
	      flex-direction: column;
	    }
	  
	    .form-group {
	      margin-bottom: 20px;
	    }
	  
	    label {
	      font-weight: bold;
	      margin-bottom: 8px;
	    }
	  
	    input[type="text"],
	    input[type="email"],
	    input[type="password"],
	    input[type="date"] {
	      padding: 10px;
	      font-size: 16px;
	      border: 1px solid #ccc;
	      border-radius: 5px;
	      transition: border-color 0.3s;
	    }
	  
	    input[type="text"]:focus,
	    input[type="email"]:focus,
	    input[type="password"]:focus,
	    input[type="date"]:focus {
	      border-color: #007bff;
	    }
	  
	    input[type="submit"] {
	      padding: 12px;
	      font-size: 16px;
		  width: 100%;
	      color: #fff;
	      background-color: #007bff;
	      border: none;
	      border-radius: 5px;
	      cursor: pointer;
	      transition: background-color 0.3s;
	    }
	  
	    input[type="submit"]:hover {
	      background-color: #0056b3;
	    }      
      label {
        font-weight: bold;
      }
      
      input[type="text"],
      input[type="email"],
      input[type="password"],
      input[type="tel"],
	  
      select {
        width: 100%;
        padding: 10px;
        font-size: 16px;
        border-radius: 6px;
        border: 1px solid #ccc;
      }
      
     
      
      .error {
        color: #dc3545;
        font-size: 14px;
      }
	  /* Add these CSS styles to your existing styles.css file */
	  
	 
	  
	  @keyframes spin {
	    from {
	      transform: rotate(0deg); /* Start rotating from 0 degrees */
	    }
	    to {
	      transform: rotate(360deg); /* Rotate to 360 degrees */
	    }
	  }
	  .animated-logo {
		width: 100px; /* Set width and height to create a circular shape */
		  height: 100px;
		  border-radius: 50%; /* Make the logo circular */
		  transition: transform 0.3s ease;
	  }
	  .animated-logo:hover {
	    transform: rotate(360deg); /* Rotate the logo 360 degrees on hover */
	  }
	  .registration-image {
	    margin-left: auto; /* Move the image container to the right */
	  }
	  
	  .registration-image img {
	    max-width: 100%; /* Ensure image does not exceed container width */
	    height: auto; /* Maintain aspect ratio */
	    border-radius: 8px; /* Add rounded corners to the image */
	  }
	  .registration-form {
	    max-width: 400px;
	    padding: 20px;
	    background-color: #fff;
	    border-radius: 8px;
	    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	  }

    </style>
</head>
<body>
  <nav>
    <ul>
      <li><a href="#">Home</a></li>
      <li><a href="#">About</a></li>
      <li><a href="#">Contact</a></li>
    </ul>
  </nav>
  <div class="container">
	<img src="EvotingLogo.png" alt="Logo" 	class="animated-logo" th:src="@{EvotingLogo.png}" />
    <h2>Registration Form</h2>
    <form id="registrationForm" onsubmit="submitForm(event)" method="post" action="/saveUser">
		
		<div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
        <div id="nameError" class="error"></div>
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        <div id="emailError" class="error"></div>
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>
        <div id="passwordError" class="error"></div>
      </div>
      <div class="form-group">
        <label for="confirmPassword">Confirm Password:</label>
        <input type="password" id="confirmPassword" name="confirmPassword" required>
        <div id="confirmPasswordError" class="error"></div>
      </div>
      <div class="form-group">
        <label for="state">State:</label>
        <select id="state" name="state" required>
          <option value="">Select State</option>
          <option value="Andhra Pradesh">Andhra Pradesh</option>
          <option value="Arunachal Pradesh">Arunachal Pradesh</option>
          <option value="Assam">Assam</option>
          <option value="Bihar">Bihar</option>
          <option value="Chhattisgarh">Chhattisgarh</option>
          <option value="Chandigarh">Chandigarh</option>
          <option value="Delhi">Delhi</option>
          <option value="Goa">Goa</option>
          <option value="Gujarat">Gujarat</option>
          <option value="Haryana">Haryana</option>
          <option value="Himachal Pradesh">Himachal Pradesh</option>
          <option value="Jharkhand">Jharkhand</option>
          <option value="Karnataka">Karnataka</option>
          <option value="Kerala">Kerala</option>
          <option value="Madhya Pradesh">Madhya Pradesh</option>
          <option value="Maharashtra">Maharashtra</option>
          <option value="Manipur">Manipur</option>
          <option value="Meghalaya">Meghalaya</option>
          <option value="Mizoram">Mizoram</option>
          <option value="Nagaland">Nagaland</option>
          <option value="Odisha">Odisha</option>
          <option value="Punjab">Punjab</option>
          <option value="Rajasthan">Rajasthan</option>
          <option value="Sikkim">Sikkim</option>
          <option value="Tamil Nadu">Tamil Nadu</option>
          <option value="Telangana">Telangana</option>
          <option value="Tripura">Tripura</option>
          <option value="Uttar Pradesh">Uttar Pradesh</option>
          <option value="Uttarakhand">Uttarakhand</option>
          <option value="West Bengal">West Bengal</option>
          <option value="Puducherry">Puducherry</option>
        </select>
        <div id="stateError" class="error"></div>
      </div>
	  <div class="form-group">
	          <label for="dob">Date of Birth:</label>
	          <input type="date" id="dob" name="dob" required>
	        </div>
      <input type="submit" value="Register">
    </form>
	
  </div>

  <script>
    function submitForm(event) {
      event.preventDefault();

      // Validate form fields
      if (!validateForm()) {
        return;
      }

      // Get form data
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const state = document.getElementById('state').value;

      // Construct data object
      const formData = {
        name,
        email,
        password,
        state
      };

      // Send form data to Spring Boot backend (replace this with your actual backend endpoint)

    function validateForm() {
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      const state = document.getElementById('state').value;

      let isValid = true;
      // Validate name
      if (name === '') {
        document.getElementById('nameError').textContent = 'Name is required';
        isValid = false;
      } else {
        document.getElementById('nameError').textContent = '';
      }

      // Validate email
      if (email === '') {
        document.getElementById('emailError').textContent = 'Email is required';
        isValid = false;
      } else {
        document.getElementById('emailError').textContent = '';
      }

      // Validate password
      if (password === '') {
        document.getElementById('passwordError').textContent = 'Password is required';
        isValid = false;
      } else {
        document.getElementById('passwordError').textContent = '';
      }

      // Validate confirm password
      if (confirmPassword === '') {
        document.getElementById('confirmPasswordError').textContent = 'Please confirm password';
        isValid = false;
      } else if (password !== confirmPassword) {
        document.getElementById('confirmPasswordError').textContent = 'Passwords do not match';
        isValid = false;
      } else {
        document.getElementById('confirmPasswordError').textContent = '';
      }

      // Validate state
      if (state === '') {
        document.getElementById('stateError').textContent = 'Please select a state';
        isValid = false;
      } else {
        document.getElementById('stateError').textContent = '';
      }
	 	 var dob = new Date(document.getElementById('dob').value);

	        // Calculate age
	        var today = new Date();
	        var age = today.getFullYear() - dob.getFullYear();
	        var monthDiff = today.getMonth() - dob.getMonth();
	        if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < dob.getDate())) {
	          age--;
	        }

	        // Check if age is above 18
	        if (age < 18) {
	          alert('You must be at least 18 years old to register.');
	        } else {
	          // If age is valid, submit the form
	          document.getElementById('registrationForm').submit();
	        }


      return isValid;
    }
  </script>
</body>
</html>
